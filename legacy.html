<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <meta name="color-scheme" content="dark light"/>
  <title>Beekeeping App — Legacy</title>

  <!-- Tailwind (utility classes) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Polyfills for iOS 9 Safari (Promise, Map/Set, Array.from, padStart, etc.) -->
  <script src="https://cdn.jsdelivr.net/npm/core-js-bundle@3.37.1/minified.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/regenerator-runtime@0.13.11/runtime.min.js"></script>

  <!-- React 17 UMD (more forgiving for very old Safari) -->
  <script src="https://unpkg.com/react@17/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js"></script>

  <!-- Babel Standalone (compile JSX in-browser) -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body class="min-h-screen bg-black text-yellow-200">
  <div class="mx-auto max-w-6xl p-4">
    <h1 class="text-xl font-semibold text-yellow-300 mb-3">Beekeeping App — Legacy</h1>

    <!-- Mount target -->
    <div id="root" class="min-h-[40vh] rounded-2xl border border-yellow-500/20 bg-black/40 grid place-items-center">
      <div class="p-6 text-center">
        <div class="mb-2 animate-pulse">Loading…</div>
        <div class="text-xs opacity-70">If this stays here, a script failed to load.</div>
        <pre id="err" class="mt-3 text-xs text-red-300 whitespace-pre-wrap"></pre>
      </div>
    </div>
  </div>

  <!-- Your app (UMD style; no import/export inside app.jsx) -->
  <script
    type="text/babel"
    data-presets="env,react"
    data-plugins="proposal-nullish-coalescing-operator,proposal-optional-chaining"
    src="app.jsx">
  </script>

  <!-- Mount with React 17 -->
  <script type="text/babel" data-presets="env,react">
    (function () {
      var out = document.getElementById('err');
      function showErr(e){ try { out.textContent = String((e && (e.stack || e.message)) || e || 'Unknown error'); } catch(_){} }
      window.addEventListener('error', function(ev){ showErr(ev.error || ev.message); });
      window.addEventListener('unhandledrejection', function(ev){ showErr(ev.reason || ev); });

      try {
        if (!window.BeekeepingApp) throw new Error('BeekeepingApp is not defined. Did app.jsx load?');
        ReactDOM.render(React.createElement(window.BeekeepingApp), document.getElementById('root'));
      } catch (e) { showErr(e); }
    })();
  </script>
</body>
</html>
